{"openapi":"3.0.0","paths":{"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/auth/roles":{"post":{"operationId":"AuthController_createRole","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRoleDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}}},"get":{"operationId":"AuthController_getRoles","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/auth/users/role":{"post":{"operationId":"AuthController_addRole","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddRoleDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/auth/users":{"get":{"operationId":"AuthController_getUsers","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/registration":{"post":{"operationId":"ProfilesController_registration","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserProfileDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/profiles/{id}":{"put":{"operationId":"ProfilesController_updateProfile","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserProfileDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}}},"delete":{"operationId":"ProfilesController_deleteProfile","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/profiles":{"get":{"operationId":"ProfilesController_getProfiles","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/film/movies":{"get":{"operationId":"FilmController_getAllMovies","summary":"Получение информации о фильмах","parameters":[{"name":"genres","required":true,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"ofset","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"202":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Film"}}}}}},"tags":["film"]}},"/film/serials":{"get":{"operationId":"FilmController_getAllSerials","summary":"Получение информации о сериалах","parameters":[{"name":"genres","required":true,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"ofset","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"202":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Film"}}}}}},"tags":["film"]}},"/film/cartoons":{"get":{"operationId":"FilmController_getAllCartoons","summary":"Получение информации о мультфльмах","parameters":[{"name":"genres","required":true,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"ofset","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"202":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Film"}}}}}},"tags":["film"]}},"/genre":{"get":{"operationId":"GenreController_getAllGenres","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Genre"}}}}}},"tags":["genre"]},"post":{"operationId":"GenreController_updateGenre","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateGenreDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Genre"}}}}},"tags":["genre"]}},"/genre/{id}":{"get":{"operationId":"GenreController_getOneGenre","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["genre"]}}},"info":{"title":"Учебный проект","description":"Клон kinopoisk-a","version":"0.0.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"defaultBearerAuth":{"scheme":"bearer","bearerFormat":"jwt","type":"http"}},"schemas":{"LoginDto":{"type":"object","properties":{"email":{"type":"string","example":"user@mail.ru","description":"Почтовый адрес"},"password":{"type":"string","minLength":4,"maxLength":16,"example":"12345678","description":"Пароль пользователя"}},"required":["email","password"]},"CreateRoleDto":{"type":"object","properties":{"value":{"type":"string","example":"Администратор","description":"Роль пользователя"},"description":{"type":"string"}},"required":["value","description"]},"AddRoleDto":{"type":"object","properties":{"value":{"type":"string","example":"Администратор","description":"Роль пользователя"},"userId":{"type":"number","minimum":1}},"required":["value","userId"]},"User":{"type":"object","properties":{"email":{"type":"string","example":"user@mail.ru","description":"Почтовый адрес"},"password":{"type":"string","minLength":4,"maxLength":16,"example":"12345678","description":"Пароль пользователя"},"id":{"type":"number"},"roles":{"type":"array","items":{"$ref":"#/components/schemas/Role"}}},"required":["email","password","id","roles"]},"Role":{"type":"object","properties":{"value":{"type":"string","example":"Администратор","description":"Роль пользователя"},"id":{"type":"number"},"description":{"type":"string"},"users":{"type":"array","items":{"$ref":"#/components/schemas/User"}}},"required":["value","id","description","users"]},"CreateUserProfileDto":{"type":"object","properties":{"email":{"type":"string","example":"user@mail.ru","description":"Почтовый адрес"},"password":{"type":"string","minLength":4,"maxLength":16,"example":"12345678","description":"Пароль пользователя"},"name":{"type":"string","example":"Александр","description":"Имя пользователя"},"surname":{"type":"string","example":"Иванов","description":"Фамилия пользователя"},"nickname":{"type":"string","example":"stas9n","description":"Никнейм пользователя"},"country":{"type":"string","example":"Россия","description":"Страна проживания пользователя"},"city":{"type":"string","example":"Москва","description":"Город проживания пользователя"},"roles":{"type":"array","items":{"$ref":"#/components/schemas/Role"}},"url":{"type":"string"},"photo":{"type":"string"}},"required":["email","password","name","surname","nickname","country","city","roles","url","photo"]},"Actor":{"type":"object","properties":{"id":{"type":"number"},"url":{"type":"string"},"fullName":{"type":"string"},"fullNameEn":{"type":"string"},"photo":{"type":"string"},"personInFilm":{"type":"array","items":{"$ref":"#/components/schemas/ActorFilm"}}},"required":["id","url","fullName","fullNameEn","photo","personInFilm"]},"ActorRole":{"type":"object","properties":{"id":{"type":"number"},"roleName":{"type":"string"},"personsInFilm":{"type":"array","items":{"$ref":"#/components/schemas/ActorFilm"}}},"required":["id","roleName","personsInFilm"]},"ActorFilm":{"type":"object","properties":{"id":{"type":"number"},"film":{"$ref":"#/components/schemas/Film"},"filmId":{"type":"number"},"actor":{"$ref":"#/components/schemas/Actor"},"actorId":{"type":"number"},"role":{"$ref":"#/components/schemas/ActorRole"},"roleId":{"type":"number"},"roleNotes":{"type":"string"}},"required":["id","film","filmId","actor","actorId","role","roleId","roleNotes"]},"FilmGenre":{"type":"object","properties":{"id":{"type":"number"},"genreId":{"type":"number"},"film":{"$ref":"#/components/schemas/Film"},"filmId":{"type":"number"}},"required":["id","genreId","film","filmId"]},"AgeRestriction":{"type":"object","properties":{}},"Comment":{"type":"object","properties":{"id":{"type":"number"},"review":{"$ref":"#/components/schemas/Review"},"reviewId":{"type":"number"},"parentComment":{"$ref":"#/components/schemas/Comment"},"parentCommentId":{"type":"number"},"childrens":{"type":"array","items":{"$ref":"#/components/schemas/Comment"}},"profileId":{"type":"number"},"text":{"type":"string"}},"required":["id","review","reviewId","profileId","text"]},"Review":{"type":"object","properties":{"id":{"type":"number"},"url":{"type":"string"},"title":{"type":"string"},"text":{"type":"string"},"isPositive":{"type":"boolean"},"comments":{"type":"array","items":{"$ref":"#/components/schemas/Comment"}},"film":{"$ref":"#/components/schemas/Film"},"filmId":{"type":"number"},"profileId":{"type":"number"}},"required":["id","url","title","text","isPositive","comments","film","filmId","profileId"]},"Film":{"type":"object","properties":{"id":{"type":"number"},"url":{"type":"string"},"preview":{"type":"string"},"year":{"type":"number"},"title":{"type":"string"},"originalTitle":{"type":"string"},"slogan":{"type":"string"},"country":{"$ref":"#/components/schemas/Country"},"countryId":{"type":"number"},"personsInFilm":{"type":"array","items":{"$ref":"#/components/schemas/ActorFilm"}},"filmGenres":{"type":"array","items":{"$ref":"#/components/schemas/FilmGenre"}},"duration":{"type":"string"},"ageRestriction":{"$ref":"#/components/schemas/AgeRestriction"},"ageRestrictionId":{"type":"number"},"reviews":{"type":"array","items":{"$ref":"#/components/schemas/Review"}}},"required":["id","url","year","title","originalTitle","slogan","country","countryId","personsInFilm","filmGenres","duration","ageRestriction","ageRestrictionId","reviews"]},"FilmViewsCountry":{"type":"object","properties":{}},"Country":{"type":"object","properties":{"id":{"type":"number"},"countryName":{"type":"string"},"url":{"type":"string"},"flag":{"type":"string"},"filmsCreated":{"type":"array","items":{"$ref":"#/components/schemas/Film"}},"filmViews":{"type":"array","items":{"$ref":"#/components/schemas/FilmViewsCountry"}}},"required":["id","countryName","url","flag","filmsCreated","filmViews"]},"Genre":{"type":"object","properties":{"id":{"type":"number"},"url":{"type":"string"},"genreName":{"type":"string"},"genreNameEn":{"type":"string"}},"required":["id","url","genreName","genreNameEn"]},"UpdateGenreDto":{"type":"object","properties":{"id":{"type":"number"},"genreNameEn":{"type":"string"}},"required":["id","genreNameEn"]}}}}